@model Test_task_Asp.Net.Models.PairsViewModel

<h1>Pairs</h1>

<p>Displayed @Model.Pairs.Count() of @Model.TotalPairs pairs</p>

@foreach (var pair in Model.Pairs)
{
    <p>@pair</p>
}

@if (Model.CurrentPage > 1)
{
    <a href="@Url.Action("Index", new { page = Model.CurrentPage - 1 })">&lt; Previous</a>
}

@if (Model.CurrentPage < Model.TotalPages)
{
    <a href="@Url.Action("Index", new { page = Model.CurrentPage + 1 })">Next &gt;</a>
}

<p>
    <small>
        < 1
        @if (Model.CurrentPage > 5)
        {
            <a href="@Url.Action("Index", new { page = 1 })">1</a>
            <span>...</span>
        }
        @for (int i = Math.Max(1, Model.CurrentPage - 4); i <= Math.Min(Model.TotalPages, Model.CurrentPage + 4); i++)
        {
            if (i == Model.CurrentPage)
            {
                <span>@i</span>
            }
            else
            {
                <a href="@Url.Action("Index", new { page = i })">@i</a>
            }
        }
        @if (Model.CurrentPage < Model.TotalPages - 4)
        {
            <span>...</span>
            <a href="@Url.Action("Index", new { page = Model.TotalPages })">@Model.TotalPages</a>
        }
        > @Model.TotalPages
    </small>
</p>